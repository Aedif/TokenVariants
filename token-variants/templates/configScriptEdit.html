<form class="macro-sheet editable flexcol">
    <fieldset class="token-variants-macro">
        <legend>Scripts</legend>

        <div class="form-group stacked command">
            <label>Run when 'Expression' is TRUE</label>
            <textarea name="onApply">{{onApply}}</textarea>
        </div>

        <div class="form-group stacked command">
            <label>Run when 'Expression' is FALSE</label>
            <textarea name="onRemove">{{onRemove}}</textarea>
        </div>
    </fieldset>

    <br>

    <datalist id="macros">
        {{#each macros }}
        <option value="{{this}}"></option>
        {{/each}}
    </datalist>

    <fieldset>
        <legend>Macros</legend>
        <div class="form-group">
            <label>Run when 'Expression' is TRUE</label>
            <div class="form-fields">
              <input list="macros" name="macroOnApply" value="{{macroOnApply}}">
            </div>
        </div>
        <div class="form-group">
            <label>Run when 'Expression' is FALSE</label>
            <div class="form-fields">
              <input list="macros" name="macroOnRemove" value="{{macroOnRemove}}">
            </div>
        </div>
    </fieldset>

    {{#if tmfxActive}}
    <br>
    <fieldset>
        <legend>Token Magic FX</legend>
        <div class="form-group">
            <label>Toggle Preset</label>
            <div class="form-fields">
              <datalist id="tmfxPresets">
              {{#each tmfxPresets }}
              <option value="{{this}}"></option>
              {{/each}}
               </datalist>
              <input list="tmfxPresets" name="tmfxPreset" value="{{tmfxPreset}}">
            </div>
        </div>
    </fieldset>
    {{/if}}

    {{#if ceActive}}
    <br>
    <fieldset>
        <legend>DFreds Convenient Effects</legend>
        <div class="form-group">
            <label>Effect</label>
            <div class="form-fields">
              <datalist id="ceEffects">
              {{#each ceEffects }}
              <option value="{{this}}"></option>
              {{/each}}
               </datalist>
              <input list="ceEffects" name="ceEffect.name" value="{{ceEffect.name}}">
            </div>
        </div>
        <div class="form-group slim">
            <label>Actions</label>
            <div class="form-fields">
                <label>Apply</label>
                <input type="checkbox" name="ceEffect.apply" {{#if ceEffect.apply}}checked{{/if}}>
                <label>Remove</label>
                <input type="checkbox" name="ceEffect.remove" {{#if ceEffect.remove}}checked{{/if}}>
            </div>
        </div>
    </fieldset>
    {{/if}}

    <footer class="sheet-footer flexrow">
        <button type="submit"><i class="far fa-save"></i>{{localize "token-variants.common.apply"}}</button>
    {{#if hasScript}}
        <button type="button" class="remove"><i class="fas fa-trash"></i> {{localize "token-variants.common.remove"}}</button>
    {{/if}}
    </footer>
</form>